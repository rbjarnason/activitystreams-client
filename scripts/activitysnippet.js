this.ActivitySnippet=this.ActivitySnippet||{},this.ActivitySnippet.ActivitySnippetTemplates=this.ActivitySnippet.ActivitySnippetTemplates||{},this.ActivitySnippet.ActivitySnippetTemplates["app/scripts/templates/FAVORITED.handlebars"]=Handlebars.template(function(a,b,c,d,e){function f(){return" activitysnippet-icon--disabled"}function g(){return" activitysnippet-icon--inactive"}function h(){return" activitysnippet-icon--verbed"}function i(){return'\n            <div class="drEvil"></div>\n        '}function j(a,b){var d,e="";return e+="\n        	",d=c["if"].call(a,a&&a.state,{hash:{},inverse:o.program(12,l,b),fn:o.program(10,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n	    "}function k(){return'\n	        	<svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M499.968 928.576q-14.508 0 -24.552 -10.044l-348.192 -335.916q-5.58 -4.464 -15.345 -14.508t-30.969 -36.549 -37.944 -54.405 -29.853 -67.518 -13.113 -77.004q0 -122.76 70.866 -191.952t195.858 -69.192q34.596 0 70.587 11.997t66.96 32.364 53.289 38.223 42.408 37.944q20.088 -20.088 42.408 -37.944t53.289 -38.223 66.96 -32.364 70.587 -11.997q124.992 0 195.858 69.192t70.866 191.952q0 123.318 -127.782 251.1l-347.634 334.8q-10.044 10.044 -24.552 10.044z"/></svg>\n	        '}function l(){return'\n	        	<svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M928.512 332.632q0 -45.198 -11.997 -79.794t-30.69 -54.963 -45.477 -33.201 -52.452 -17.298 -54.684 -4.464 -62.496 14.229 -61.659 35.712 -48.267 40.176 -33.48 34.317q-10.044 12.276 -27.342 12.276t-27.342 -12.276q-13.392 -15.624 -33.48 -34.317t-48.267 -40.176 -61.659 -35.712 -62.496 -14.229 -54.684 4.464 -52.452 17.298 -45.477 33.201 -30.69 54.963 -11.997 79.794q0 93.744 104.346 198.09l324.198 312.48 323.64 -311.922q104.904 -104.904 104.904 -198.648zm71.424 0q0 123.318 -127.782 251.1l-347.634 334.8q-10.044 10.044 -24.552 10.044t-24.552 -10.044l-348.192 -335.916q-5.58 -4.464 -15.345 -14.508t-30.969 -36.549 -37.944 -54.405 -29.853 -67.518 -13.113 -77.004q0 -122.76 70.866 -191.952t195.858 -69.192q34.596 0 70.587 11.997t66.96 32.364 53.289 38.223 42.408 37.944q20.088 -20.088 42.408 -37.944t53.289 -38.223 66.96 -32.364 70.587 -11.997q124.992 0 195.858 69.192t70.866 191.952z"/></svg>\n	        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n="",o=this,p="function",q=this.escapeExpression;return n+='<span class="activitysnippet-item">\n    <a class="activitysnippet-link"><i class="activitysnippet-icon',m=c["if"].call(b,b&&b.disabled,{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(m||0===m)&&(n+=m),m=c.unless.call(b,b&&b.active,{hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e}),(m||0===m)&&(n+=m),m=c["if"].call(b,b&&b.state,{hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e}),(m||0===m)&&(n+=m),n+='">\n    	',m=c["if"].call(b,b&&b.evil,{hash:{},inverse:o.program(9,j,e),fn:o.program(7,i,e),data:e}),(m||0===m)&&(n+=m),n+='\n        </i></a><span class="activitysnippet-count">',(m=c.count)?m=m.call(b,{hash:{},data:e}):(m=b&&b.count,m=typeof m===p?m.call(b,{hash:{},data:e}):m),n+=q(m)+"</span>\n</span>\n"}),this.ActivitySnippet.ActivitySnippetTemplates["app/scripts/templates/FOLLOWED.handlebars"]=Handlebars.template(function(a,b,c,d,e){function f(){return" activitysnippet-icon--disabled"}function g(){return" activitysnippet-icon--inactive"}function h(){return" activitysnippet-icon--verbed"}function i(){return'\n        <svg xmlns="http://www.w3.org/2000/svg"\n             width="16px" height="16px" viewBox="0 0 31.997 32" enable-background="new 0 0 31.997 32" xml:space="preserve">\n                <g>\n                    <polygon points="31.999,6.174 26.946,6.174 26.946,1.122 23.702,1.122 23.702,6.174 18.651,6.174 18.651,9.418 23.702,9.418\n                        23.702,14.47 26.946,14.47 26.946,9.418 31.999,9.418     "/>\n                    <path d="M23.042,24.446c-1.264-2.201-6.571-3.206-7.329-4.919c-0.758-1.71-0.166-1.825,0.336-2.561\n                        c0.508-0.73,0.674-2.818,0.674-2.818s0.762,0.06,0.93-0.306c0.17-0.367,0.697-2.983,0.354-3.205\n                        c-0.225-0.144-0.271-0.152-0.277-0.145c0.014-0.124,0.234-2.485-0.305-4.281c-0.492-1.629-2.042-2.909-4.417-3.239l0.002-0.002\n                        L9.294,2.152l0.576,0.761l-1.646-0.27l0.489,0.643L5.47,4.596l1.009,0.521L4.792,6.235l0.876,0.011L5.13,8.058l0.73-0.753\n                        l0.452,1.608c-0.017,0.829,0.068,1.392,0.068,1.392s-0.017,0.135-0.359,0.354c-0.341,0.221,0.132,2.792,0.304,3.16\n                        c0.17,0.367,0.988,0.342,0.988,0.342s0.135,2.007,0.642,2.74c0.505,0.734,1.163,0.962,0.37,2.658\n                        c-0.639,1.367-5.848,2.417-7.111,4.618C-0.049,26.38,0,32,0,32h24.236C24.237,32,24.303,26.647,23.042,24.446z"/>\n                </g>\n        </svg>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="",l=this,m="function",n=this.escapeExpression;return k+='<span class="activitysnippet-item">\n    <a class="activitysnippet-link"><i class="activitysnippet-icon',j=c["if"].call(b,b&&b.disabled,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(j||0===j)&&(k+=j),j=c.unless.call(b,b&&b.active,{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(j||0===j)&&(k+=j),j=c["if"].call(b,b&&b.state,{hash:{},inverse:l.noop,fn:l.program(5,h,e),data:e}),(j||0===j)&&(k+=j),k+='">\n        ',j=c["if"].call(b,b&&b.state,{hash:{},inverse:l.program(7,i,e),fn:l.program(7,i,e),data:e}),(j||0===j)&&(k+=j),k+='\n    </i></a><span class="activitysnippet-count">',(j=c.count)?j=j.call(b,{hash:{},data:e}):(j=b&&b.count,j=typeof j===m?j.call(b,{hash:{},data:e}):j),k+=n(j)+"</span>\n</span>\n\n"}),this.ActivitySnippet.ActivitySnippetTemplates["app/scripts/templates/WATCHED.handlebars"]=Handlebars.template(function(a,b,c,d,e){function f(){return" activitysnippet-icon--disabled"}function g(){return" activitysnippet-icon--inactive"}function h(){return" activitysnippet-icon--verbed"}function i(){return'\n        <svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M928.512 535.744q-84.816 -131.688 -212.598 -196.974 34.038 58.032 34.038 125.55 0 103.23 -73.377 176.607t-176.607 73.377 -176.607 -73.377 -73.377 -176.607q0 -67.518 34.038 -125.55 -127.782 65.286 -212.598 196.974 74.214 114.39 186.093 182.187t242.451 67.797 242.451 -67.797 186.093 -182.187zm-401.76 -214.272q0 -11.16 -7.812 -18.972t-18.972 -7.812q-69.75 0 -119.691 49.941t-49.941 119.691q0 11.16 7.812 18.972t18.972 7.812 18.972 -7.812 7.812 -18.972q0 -47.988 34.038 -82.026t82.026 -34.038q11.16 0 18.972 -7.812t7.812 -18.972zm473.184 214.272q0 18.972 -11.16 38.502 -78.12 128.34 -210.087 205.623t-278.721 77.283 -278.721 -77.562 -210.087 -205.344q-11.16 -19.53 -11.16 -38.502t11.16 -38.502q78.12 -127.782 210.087 -205.344t278.721 -77.562 278.721 77.562 210.087 205.344q11.16 19.53 11.16 38.502z"/></svg>\n        '}function j(){return'\n        <svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M309.69 744.994l43.524 -78.678q-48.546 -35.154 -75.888 -88.722t-27.342 -113.274q0 -67.518 34.038 -125.55 -127.782 65.286 -212.598 196.974 93.186 143.964 238.266 209.25zm217.062 -423.522q0 -11.16 -7.812 -18.972t-18.972 -7.812q-69.75 0 -119.691 49.941t-49.941 119.691q0 11.16 7.812 18.972t18.972 7.812 18.972 -7.812 7.812 -18.972q0 -47.988 34.038 -82.026t82.026 -34.038q11.16 0 18.972 -7.812t7.812 -18.972zm202.554 -106.578q0 3.906 -.558 5.022 -58.59 104.904 -175.77 315.828t-176.328 316.386l-27.342 49.662q-5.58 8.928 -15.624 8.928 -6.696 0 -74.772 -39.06 -8.928 -5.58 -8.928 -15.624 0 -6.696 24.552 -48.546 -79.794 -36.27 -147.033 -96.534t-116.343 -136.71q-11.16 -17.298 -11.16 -38.502t11.16 -38.502q85.374 -131.13 212.04 -207.018t276.768 -75.888q49.662 0 100.44 9.486l30.132 -54.126q5.58 -8.928 15.624 -8.928 2.79 0 10.044 3.348t17.298 8.649 18.414 10.323 17.577 10.323 10.881 6.417q8.928 5.58 8.928 15.066zm20.646 249.426q0 77.562 -44.082 141.453t-116.622 91.791l156.24 -280.116q4.464 25.11 4.464 46.872zm249.984 71.424q0 19.53 -11.16 38.502 -21.762 35.712 -60.822 80.91 -83.7 95.976 -193.905 148.986t-234.081 53.01l41.292 -73.656q118.296 -10.044 219.015 -76.446t168.237 -171.306q-64.17 -99.882 -157.356 -164.052l35.154 -62.496q53.01 35.712 101.835 85.374t80.631 102.672q11.16 18.972 11.16 38.502z"/></svg>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m=this,n="function",o=this.escapeExpression;return l+='<span class="activitysnippet-item">\n    <a class="activitysnippet-link"><i class="activitysnippet-icon',k=c["if"].call(b,b&&b.disabled,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(k||0===k)&&(l+=k),k=c.unless.call(b,b&&b.active,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(k||0===k)&&(l+=k),k=c["if"].call(b,b&&b.state,{hash:{},inverse:m.noop,fn:m.program(5,h,e),data:e}),(k||0===k)&&(l+=k),l+='">\n        ',k=c["if"].call(b,b&&b.state,{hash:{},inverse:m.program(9,j,e),fn:m.program(7,i,e),data:e}),(k||0===k)&&(l+=k),l+='\n    </i></a><span class="activitysnippet-count">',(k=c.count)?k=k.call(b,{hash:{},data:e}):(k=b&&b.count,k=typeof k===n?k.call(b,{hash:{},data:e}):k),l+=o(k)+"</span>\n</span>\n"}),function(){"use strict";var a,b,c=[].slice,d={}.hasOwnProperty;b="undefined"!=typeof exports&&null!==exports?exports:this,b.ActivitySnippet="undefined"!=typeof ActivitySnippet&&null!==ActivitySnippet?ActivitySnippet:{},a=function(){function a(){}var b;return a.prototype.ready=function(a,b){var c,d;return d=function(){return ActivitySnippet.utils.ready.fired||(ActivitySnippet.utils.ready.fired=!0),a.apply(b)},"complete"===document.readyState?d():document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(c=function(){var a;try{document.documentElement.doScroll("left")}catch(b){return a=b,void setTimeout(c,1)}return d()},document.attachEvent("onreadystatechange",d),window.attachEvent("onload",d),document.documentElement&&document.documentElement.doScroll&&!window.frameElement)?c():void 0},b=function(a,b){var c,d;4===this.readyState&&(this.status>=200&&this.status<400?(c=JSON.parse(this.responseText),a(c)):(d=this.status+" "+this.statusText,b(d)))},a.prototype.GET=function(a,c,d){var e;return e=new XMLHttpRequest,e.open("GET",a,!0),e.timeout=5e3,e.onreadystatechange=function(){return b.call(this,c,d)},e.send(),e=null},a.prototype.POST=function(a,c,d,e){var f;return c=JSON.stringify(c),f=new XMLHttpRequest,f.open("POST",a,!0),f.timeout=5e3,f.withCredentials=!0,f.onreadystatechange=function(){return b.call(this,d,e)},f.send(c),f=null},a.prototype.DELETE=function(a,c,d){var e;return e=new XMLHttpRequest,e.open("DELETE",a,!0),e.timeout=5e3,e.withCredentials=!0,e.onreadystatechange=function(){return b.call(this,c,d)},e.send(),e=null},a.prototype.extend=function(){var a,b,e,f,g;if(a=1<=arguments.length?c.call(arguments,0):[],!a[0])return{};for(b in a){g=a[b];for(e in g)if(d.call(g,e))if(f=g[e],null==a[0][e]&&"object"!=typeof f)a[0][e]=f;else{if(null!=a[0][e]&&"object"!=typeof f)continue;null==a[0][e]&&(a[0][e]={}),a[0][e]=this.extend(a[0][e],f)}}return a[0]},a.prototype.logger=function(a){return console.log("------------"),console.log(JSON.stringify(a)),console.log("------------")},a.prototype.unpack=function(){var a,b,d,e,f;if(b=arguments[0],a=2<=arguments.length?c.call(arguments,1):[])for(e=0,f=a.length;f>e;e++)d=a[e],"undefined"!=typeof d&&(d.length>0?[].push.apply(b,d.splice(0,d.length)):[].push.apply(b,a.slice(d)));return b},a}(),ActivitySnippet.utils=new a}.call(this),function(){"use strict";var a,b;a="undefined"!=typeof exports&&null!==exports?exports:this,a.ActivitySnippet="undefined"!=typeof ActivitySnippet&&null!==ActivitySnippet?ActivitySnippet:{},ActivitySnippet.Events=function(){function a(){}return a.prototype.on=function(a,b,c){var d;return b?(this._events=this._events||{},d=this._events[a]||(this._events[a]=[]),d.push({callback:b,context:c,ctx:c||this}),this):this},a.prototype.off=function(a,b,c){var d,e,f,g,h,i,j,k;if(!this._events)return this;if(!a&&!b&&!c)return this._events=void 0,this;for(f=a?[a]:Object.keys(this._events),h=0,j=f.length;j>h;h++)if(a=f[h],e=this._events[a]){if(this._events[a]=g=[],b||c)for(i=0,k=e.length;k>i;i++)d=e[i],(b&&b!==d.callback||c&&c!==d.context)&&g.push(d);g.length||delete this._events[a]}return this},a.prototype.listenTo=function(a,b,c){var d,e;return e=this._listeningTo||(this._listeningTo={}),d=a._id||(a._id=(new Date).getTime()),e[d]=a,a.on(b,c,this),this},a.prototype.stopListening=function(a,b,c){var d,e,f;if(e=this._listeningTo,!e)return this;f=!b&&!c,a&&((e={})[a._id]=a);for(d in e)a=e[d],a.off(b,c,this),(f||!Object.keys(a._events).length)&&delete this._listeningTo[d];return this},a.prototype.trigger=function(a,c){var d,e;return this._events?(e=this._events[a],d=this._events["*"],e&&b(e,c,a),d&&b(d,c,a),this):this},a}(),b=function(a,b,c){var d,e,f,g;for(g=[],e=0,f=a.length;f>e;e++)d=a[e],g.push(d.callback.call(d.ctx,b,c));return g}}.call(this),function(){"use strict";var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a="undefined"!=typeof exports&&null!==exports?exports:this,a.ActivitySnippet="undefined"!=typeof ActivitySnippet&&null!==ActivitySnippet?ActivitySnippet:{},ActivitySnippet.ActivityStreamSnippet=function(a){function e(a,c,d,e,f,g){this.save=b(this.save,this),this.bindClick=b(this.bindClick,this),this.fireCallbacks=b(this.fireCallbacks,this);var h;if(null==a)throw new Error("Need Html Element");if(null==d)throw new Error("Need Templates Object");if(null==c.ActivityStreamAPI)throw new Error("Need ActivityStreamAPI endpoint");this.service=c.ActivityStreamAPI,this.state=!1,this.el=a,this.id=a.getAttribute("data-id"),this.activeCallbacks=e,this.inactiveCallbacks=f,this.factory=g,this.pending=!1,this.actor=null!=(h=c.actor)?h:null,this.verb={type:a.getAttribute("data-verb").toUpperCase()},this.object={aid:a.getAttribute("data-object-aid"),type:a.getAttribute("data-object-type"),api:a.getAttribute("data-object-api")},this.count=0,this.view=d["app/scripts/templates/"+this.verb.type+".handlebars"],this.constructActivityObject(),this.constructUrls(),this.fetch(),this.namespace=this.verb+this.object.type+this.object.aid,this.listenTo(g,this.namespace+":update",this.update),this.listenTo(g,"render",this.render)}return d(e,a),e.prototype.constructUrls=function(){return this.urls={get:""+this.service+"/object/"+this.object.type+"/"+this.object.aid+"/"+this.verb.type},null!=this.actor?(this.urls.post=""+this.service+"/activity",this.urls["delete"]=""+this.service+"/activity/"+this.actor.type+"/"+this.actor.aid+"/"+this.verb.type+"/"+this.object.type+"/"+this.object.aid):delete this.urls["delete"]},e.prototype.constructActivityObject=function(){return this.activity={actor:this.actor,verb:this.verb,object:this.object}},e.prototype.fireCallbacks=function(a){var b,c;c=[];for(b in a)c.push(a[b].call(this));return c},e.prototype.parse=function(a){var b,d,e;if(null!=a&&null!=a[0]){"number"==typeof a[0].totalItems&&(this.count=a[0].totalItems),d=a[0].items,e=[];for(b in d)c.call(d,b)&&e.push(null!=this.actor?this.matchActivity(a[0].items[b]):void 0);return e}},e.prototype.matchActivity=function(a){var b,c,d;return null!=a&&(b=a.actor.data,d=a.verb,c=a.object.data,b.aid===String(this.actor.aid)&&b.type===this.actor.type&&d.type===this.verb.type&&c.aid===String(this.object.aid)&&this.object.type===c.type)?this.toggleState(!0):void 0},e.prototype.toggleState=function(a){return this.state=null!=a?a:!this.state},e.prototype.setActor=function(a){return this.actor=a,this.constructUrls()},e.prototype.update=function(a){return this.toggleState(a.state),this.count=a.count,this.render(),this.bindClick()},e.prototype.formatNumber=function(a,b,c){var d,e,f,g;if(d=void 0,e=void 0,f=void 0,g=void 0,b=Math.pow(10,parseInt(b)),isNaN(Number(a)))return!1;if(this.drEvil=!1,d=["k","m","b","t"],g={314:"π",2718:"e",1e6:"One Milllllllllion"},f=0,c&&g[a])1e6===a&&(this.drEvil=!0),a=g[a];else for(e=d.length-1;e>=0;){if(f=Math.pow(10,3*(e+1)),a>=f){a=Math.floor(a*b/f)/b,a+=d[e];break}e--}return a},e.prototype.render=function(){var a;return a={activity:this.activity,count:this.formatNumber(this.count,1,!0),evil:this.drEvil,active:this.factory.active,disabled:this.factory.disabled,state:this.state},this.el.innerHTML=this.view(a)},e.prototype.bindClick=function(){var a=this;return this.el.onclick=function(){return a.factory.disabled?void 0:a.factory.active===!0?(a.fireCallbacks(a.activeCallbacks),a.save()):a.fetch({success:function(){return a.fireCallbacks(a.inactiveCallbacks)}})}},e.prototype.fetch=function(a){var b=this;return null==a&&(a={}),ActivitySnippet.utils.GET(this.urls.get,function(c){return b.parse(c),b.factory.trigger(b.namespace+":update",{count:b.count,state:b.state}),a.success?a.success(c):void 0},function(c){return b.factory.trigger("disabled",!0),b.factory.trigger(b.namespace+":update",{count:b.count,state:b.state}),a.error?a.error(c):void 0})},e.prototype.save=function(a){var b=this;return null==a&&(a={}),this.pending?void 0:(this.pending=!0,this.state?ActivitySnippet.utils.DELETE(this.urls["delete"],function(c){return b.factory.trigger(b.namespace+":update",{count:b.count-b.state,state:!1}),b.pending=!1,a.success?a.success(c):void 0},function(c){return b.factory.trigger("disabled",!0),console.error(c),b.pending=!1,a.error?a.error(c):void 0}):ActivitySnippet.utils.POST(this.urls.post,this.constructActivityObject(),function(c){return b.factory.trigger(b.namespace+":update",{count:b.count+!b.state,state:!0}),b.pending=!1,a.success?a.success(c):void 0},function(c){return b.factory.trigger("disabled",!0),console.error(c),b.pending=!1,a.error?a.error(c):void 0}))},e}(ActivitySnippet.Events)}.call(this),function(){"use strict";var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a="undefined"!=typeof exports&&null!==exports?exports:this,a.ActivitySnippet="undefined"!=typeof ActivitySnippet&&null!==ActivitySnippet?ActivitySnippet:{},ActivitySnippet.ActivityStreamSnippetFactory=function(a){function c(a){if(this.fetch=b(this.fetch,this),this.settings=ActivitySnippet.utils.extend({},a,e),!this.settings.ActivityStreamAPI)throw new Error("SnippetFactory:: Must pass in ActivityStreamAPI");this.count=0,this.templates=ActivitySnippet.ActivitySnippetTemplates,this.disabled=!1,this.active=!1,this.activeCallbacks=[],this.inactiveCallbacks=[],ActivitySnippet.utils.unpack(this.activeCallbacks,a.activeCallbacks),ActivitySnippet.utils.unpack(this.inactiveCallbacks,a.inactiveCallbacks),this.on("active",this.toggleActive),this.on("disabled",this.toggleDisabled),this.setActor(this.settings.actor),this.snippets=this.initActivityStreamSnippets(this.settings,this.templates,this.activeCallbacks,this.inactiveCallbacks)}var e;return d(c,a),e={debug:!1,snippetClass:".activitysnippet"},c.prototype.initActivityStreamSnippets=function(a,b){var c,d,e,f;e=document.querySelectorAll(a.snippetClass),f=[];for(d in e)if(e.hasOwnProperty(d)&&"length"!==d&&null==e[d].getAttribute("data-id")){e[d].setAttribute("data-id","as"+this.count);try{f.push(new ActivitySnippet.ActivityStreamSnippet(e[d],a,b,a.activeCallbacks,a.inactiveCallbacks,this))}catch(g){c=g,console.error(c.stack)}this.count++}return f},c.prototype.fetch=function(){var a,b,c,d,e;for(d=this.snippets,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.fetch());return e},c.prototype.refresh=function(){var a;return a=this.count,this.snippets.push.apply(this.snippets,this.initActivityStreamSnippets(this.settings,this.templates))},c.prototype.toggleActive=function(a){return this.active=null!=a?a:!this.active,this.trigger("render")},c.prototype.toggleDisabled=function(a){return this.disabled=null!=a?a:!this.disabled,this.trigger("render")},c.prototype.setActor=function(a){var b,c;this.validActor(a)||(a=null),this.settings.actor=a,this.toggleActive(null!=this.settings.actor?!0:!1),c=[];for(b in this.snippets)c.push(this.snippets[b].setActor(this.settings.actor));return c},c.prototype.validActor=function(a){return a?null!=a.aid&&null!=a.api&&null!=a.type?!0:!1:void 0},c}(ActivitySnippet.Events)}.call(this);